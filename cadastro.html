<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro de Times de Corrida</title>
</head>
<body>
    <h1>Cadastro de Times de Corrida</h1>
    <form id="cadastroForm">
        <fieldset>
            <legend>Dados do Time</legend>
            <label for="nome_time">Nome do Time:</label><br>
            <input type="text" id="nome_time" name="nome_time" required><br><br>
            
            <label for="carro">Carro:</label><br>
            <input type="text" id="carro" name="carro" required><br><br>
            
            <label for="quantidade_pilotos">Quantidade de Pilotos:</label><br>
            <input type="number" id="quantidade_pilotos" name="quantidade_pilotos" min="1" required onchange="adicionarCamposPilotos()"><br><br>
        </fieldset>

        <fieldset id="camposPilotos">
            <!-- Os campos de pilotos serão adicionados aqui -->
        </fieldset>

        <input type="button" value="Cadastrar Time" onclick="exibirCadastro()">
    </form>

    <h2>Cadastros de Times de Corrida</h2>
    <table id="tabelaCadastros">
        <thead>
            <tr>
                <th>Nome do Time</th>
                <th>Carro</th>
                <th>Pilotos</th>
            </tr>
        </thead>
        <tbody>
            <!-- Os cadastros serão exibidos aqui -->
        </tbody>
    </table>

    <script>
        function adicionarCamposPilotos() {
            var quantidadePilotos = document.getElementById('quantidade_pilotos').value;
            var camposPilotos = document.getElementById('camposPilotos');
            camposPilotos.innerHTML = ''; // Limpa os campos existentes

            for (var i = 0; i < quantidadePilotos; i++) {
                var fieldset = document.createElement('fieldset');
                fieldset.innerHTML = `
                    <legend>Cadastro de Piloto ${i+1}</legend>
                    <label for="nome_piloto_${i}">Nome:</label><br>
                    <input type="text" id="nome_piloto_${i}" name="nome_piloto_${i}" required><br><br>
                    
                    <label for="sobrenome_piloto_${i}">Sobrenome:</label><br>
                    <input type="text" id="sobrenome_piloto_${i}" name="sobrenome_piloto_${i}" required><br><br>
                    
                    <label for="abreviacao_piloto_${i}">Abreviação:</label><br>
                    <input type="text" id="abreviacao_piloto_${i}" name="abreviacao_piloto_${i}" required><br><br>
                    
                    <label for="steam_id_${i}">SteamID64:</label><br>
                    <input type="text" id="steam_id_${i}" name="steam_id_${i}" required><br><br>
                `;
                camposPilotos.appendChild(fieldset);
            }
        }

        function exibirCadastro() {
            var nomeTime = document.getElementById('nome_time').value;
            var carro = document.getElementById('carro').value;
            var quantidadePilotos = document.getElementById('quantidade_pilotos').value;
            var tabelaCadastros = document.getElementById('tabelaCadastros').getElementsByTagName('tbody')[0];

            var newRow = tabelaCadastros.insertRow();

            var cell1 = newRow.insertCell(0);
            var cell2 = newRow.insertCell(1);
            var cell3 = newRow.insertCell(2);

            cell1.innerHTML = nomeTime;
            cell2.innerHTML = carro;
            cell3.innerHTML = quantidadePilotos;
        }
    </script>
</body>
</html>
